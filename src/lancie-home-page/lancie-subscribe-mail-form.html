<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../../bower_components/lancie-form/lancie-form.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<dom-module id="lancie-subscribe-mail-form">
  <template>
    <style>
      lancie-form.mail-input {
        max-width: 500px;
      }

      lancie-form.mail-input iron-icon {
        margin-right: 12px;
      }
    </style>

    <lancie-ajax id="ajaxMailSubscribe" refurl="??"></lancie-ajax>

    <lancie-form id="mailForm" refurl="" class="mail-input">
      <paper-input label="E-Mail" name="mail" class="mail-input" value="{{mail}}">
        <iron-icon icon="mail" slot="prefix"></iron-icon>
        <paper-icon-button slot="suffix" on-tap="clearInput" icon="clear" alt="clear" title="Clear"></paper-icon-button>
      </paper-input>
      <paper-button disabled="[[!mail]]" on-tap="handleSubmit">Sign up</paper-button>
    </lancie-form>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'lancie-subscribe-mail-form',
        properties: {
          mail: {
            type: String,
            value: null
          }
        },

        handleSubmit: function() {
          alert("This is not implemented yet");
        },

        clearInput: function() {
          this.$.mailForm.reset();
        }
      });
    })();
  </script>
</dom-module>
