<link rel="import" href="../../bower_components/iron-image/iron-image.html">

<dom-module id="lancie-image-slider">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
        height: 500px;
      }

      .slider iron-image {
        position: absolute;
        width: 100%;
        height: 500px;
        background-color: #1a2b43;
        -webkit-transition: opacity 1s ease-in-out;
        -moz-transition: opacity 1s ease-in-out;
        -o-transition: opacity 1s ease-in-out;
        transition: opacity 1s ease-in-out;
      }

      .hidden {
        opacity: 0;
      }

      .shown {
        opacity: 1;
      }

      .slider {
        position: relative;
        width: 100%;
        height: 500px;
        background-color: lightgray;
      }

      .overlay {
        position: absolute;
        z-index: 5;
        top: 0; left: 0; bottom: 0; right: 0;
        background: rgba(0, 0, 0, 0.4);
        overflow: hidden;
        box-sizing: border-box;
        color: rgb(255, 255, 255);
      }

      .content {
        position: absolute;
        z-index: 100;
        display: inline-block;
        width: 750px;
        left: calc(50% - 375px);
        top: calc(50% - 210px);
        text-align: center;
      }

      .content iron-image {
        height: 120px;
        width: 750px;
        margin-bottom: 64px;
      }

      .content span {
        color: rgb(255, 255, 255);
        line-height: 1.2em;
      }

      .content .date {
        font-size: 72px;
        text-transform: uppercase;
        letter-spacing: 10px;
        font-weight: 500;
        margin-bottom: 64px;
      }

      .content .subtitle {
        font-size: 42px;
        text-transform: lowercase;
        font-weight: 100;
      }

      .content .tickets {
        font-size: 48px;
        font-weight: 500;
        text-transform: uppercase;
      }

      .content .logo-frontpage {
        width: 1300px;
        margin-left: -275px;
        height: 209px;
        background: url('/images/logos/lancie/logo_without_date.png') no-repeat;
        background-position: 50% 39%;
        background-size: 70%;
      }

      @media (max-width: 1000px) {
        .content .logo-frontpage {
          margin-left: 0;
          width: 100%;
        }
      }

      @media (max-width: 750px) {
        .content .date {
          font-size: 56px;
        }
      }

      @media (max-width: 600px) {
        :host {
          width: 100%;
        }

        .slider iron-image {
          width: 100%;
        }

        .overlay iron-image {
          width: 100%;
        }

        .content .date {
          font-size: 40px;
        }

        .content .tickets {
          font-size: 36px;
        }
      }

      @media (max-width: 530px) {
        .content .logo-frontpage {
          background-size: 40%;
        }

        .content .date {
          width: 200px;
          margin: -70px 0 20px 275px;
          font-size: 28px;
        }

        .content .tickets {
          width: 300px;
          margin: 11px 0 20px 225px;
          font-size: 28px;
        }
      }
    </style>
    <div>
      <div class="slider">
        <div class="overlay"></div>
        <div class="content layout vertical">
          <div class="logo-frontpage"></div>
          <span class="date">3-4-5 JUNE 2016</span>

          <span class="tickets">Tickets available soon!</span>
        </div>
        <template is="dom-repeat" items="{{images}}" index-as="index">
          <iron-image preload fade src="{{item}}"
            sizing="cover" class$="{{hide(current, index)}}"></iron-image>
        </template>
      </div>
    </div>
  </template>
  <script>
  'use strict';
    Polymer({
      is: 'lancie-image-slider',
      ready: function() {
        this.current = 0;
        this.images = [1,2,3,4,5].map(function(i) {
          return 'images/slider/slider' + i + '.JPG';
        });

        var numImages = this.images.length;
        setInterval(function() {
          this.current++;

          if (this.current === numImages) {
            this.current = 0;
          }
        }.bind(this), 5000);
      },
      hide: function(current, i) {
        return current !== i ? 'hidden' : 'shown';
      }
    });
  </script>
</dom-module>
